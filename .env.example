# ============================================
# AUTOPOST VN - PERFORMANCE OPTIMIZATION CONFIG
# ============================================

# Database Configuration
# ----------------------
# Maximum number of connections in the pool
DATABASE_MAX_CONNECTIONS=20

# Pool size for connection reuse
DATABASE_POOL_SIZE=10

# Connection timeout in milliseconds
DATABASE_CONNECTION_TIMEOUT=10000

# Idle timeout for connections in milliseconds
DATABASE_IDLE_TIMEOUT=30000

# Scheduler Configuration
# -----------------------
# Number of concurrent jobs to process
SCHEDULER_CONCURRENCY=5

# Maximum number of jobs to fetch in one batch
SCHEDULER_BATCH_SIZE=20

# Cache TTL for workspace settings in seconds (default: 5 minutes)
SCHEDULER_CACHE_TTL=300

# Interval between scheduler runs in seconds
SCHEDULER_INTERVAL=60

# Rate Limiting Configuration
# ---------------------------
# Batch size for rate limit checks
RATE_LIMIT_BATCH_SIZE=10

# Cache TTL for rate limit data in seconds
RATE_LIMIT_CACHE_TTL=60

# Media Upload Configuration
# --------------------------
# Number of concurrent media uploads
MEDIA_UPLOAD_CONCURRENCY=3

# Maximum media file size in bytes (10MB)
MAX_MEDIA_SIZE=10485760

# Upload timeout in milliseconds
MEDIA_UPLOAD_TIMEOUT=30000

# Performance Monitoring
# ---------------------
# Enable performance monitoring
ENABLE_PERFORMANCE_MONITORING=true

# Keep performance transactions for X hours
PERFORMANCE_TRANSACTION_TTL=1

# Enable detailed metrics logging
ENABLE_METRICS_LOGGING=false

# Memory Management
# ----------------
# Maximum memory usage before triggering cleanup (in MB)
MAX_MEMORY_USAGE=512

# Enable garbage collection between batches
ENABLE_GC_BETWEEN_BATCHES=false

# API Configuration
# ----------------
# Facebook API timeout in milliseconds
FACEBOOK_API_TIMEOUT=15000

# Instagram API timeout in milliseconds
INSTAGRAM_API_TIMEOUT=15000

# Zalo API timeout in milliseconds
ZALO_API_TIMEOUT=15000

# Retry Configuration
# ------------------
# Maximum number of retries for failed API calls
MAX_API_RETRIES=3

# Retry delay base in milliseconds (exponential backoff)
RETRY_DELAY_BASE=1000

# Maximum number of job retries
MAX_JOB_RETRIES=3

# Job retry delay in minutes
JOB_RETRY_DELAY=30

# Production Optimizations
# -----------------------
# Use optimized scheduler (recommended for production)
USE_OPTIMIZED_SCHEDULER=true

# Enable request batching
ENABLE_REQUEST_BATCHING=true

# Enable query optimization
ENABLE_QUERY_OPTIMIZATION=true

# Logging Configuration
# --------------------
# Log level: debug, info, warn, error
LOG_LEVEL=info

# Enable performance logs
LOG_PERFORMANCE=true

# Enable database query logs
LOG_DATABASE_QUERIES=false
